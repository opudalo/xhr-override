<html>
  <head> 
    <script src="index.js"></script>
    <script>
      window.onload = function () {
        XHROverride({
          methods: {
            send: function () {
              console.log('open:', arguments)
            },
            open: function () {
              console.log('send:', arguments)
            }
          },
          listeners: {
            readystatechange: function () {
              console.log('onreadystatechange:', this.readyState)
            }
          }
        })

        var xhr = new XMLHttpRequest()
        xhr.open("GET", "http://www.example.org/ajax.php", true);
        xhr.onreadystatechange = function () {
          console.log('readystate changed')
        }
        xhr.onload = function () {}
        xhr.send()
      }
    </script>
  </head>
  <body>
    <h1>XmlHttpRequest methods override example</h1>
    <div>Usage example: </div>
    <pre>
      XHROverride({
        methods: {
          send: function () {
            console.log('open:', arguments)
          },
          open: function () {
            console.log('send:', arguments)
          }
        },
        listeners: {
          readystatechange: function () {
            console.log('onreadystatechange:', this.readyState)
          }
        }
      })

      var xhr = new XMLHttpRequest()
        xhr.open("GET", "http://www.example.org/ajax.php", true);
        xhr.onreadystatechange = function () {
          console.log('readystate changed')
        }
        xhr.onload = function () {}
        xhr.send()

    </pre>
  </body>
</html>
